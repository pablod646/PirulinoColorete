<div class="section-content" id="section-atoms">
    <!-- Source Configuration -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">1. Source Variables</div>
        <p class="step-description">Select the collections containing your design tokens</p>

        <div class="flex-row">
            <div class="form-group">
                <label>Theme Collection</label>
                <select id="atoms-theme-collection">
                    <option value="" disabled selected>Select theme...</option>
                </select>
                <p class="input-hint">Colors, surfaces, borders, etc.</p>
            </div>
            <div class="form-group">
                <label>Aliases Collection</label>
                <select id="atoms-aliases-collection">
                    <option value="" disabled selected>Select aliases...</option>
                </select>
                <p class="input-hint">Spacing, typography, responsive tokens</p>
            </div>
        </div>
    </div>

    <!-- Component Selection -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">2. Select Components</div>
        <p class="step-description">Choose which components to generate</p>

        <div class="component-selection">
            <!-- Buttons Section -->
            <div class="component-group">
                <div class="component-group-header">
                    <label class="checkbox-label">
                        <input type="checkbox" id="gen-buttons" checked>
                        <span class="checkmark"></span>
                        <span class="component-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="8" width="18" height="8" rx="2" />
                                <path d="M12 8v8" />
                                <path d="M19 12h-2" />
                                <path d="M7 12H5" />
                            </svg></span>
                        <strong>Buttons</strong>
                    </label>
                </div>
                <div class="component-options" id="button-options">
                    <label class="checkbox-label small">
                        <input type="checkbox" name="btn-variant" value="primary" checked>
                        <span class="checkmark"></span> Primary
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="btn-variant" value="secondary" checked>
                        <span class="checkmark"></span> Secondary
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="btn-variant" value="ghost" checked>
                        <span class="checkmark"></span> Ghost
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="btn-variant" value="destructive" checked>
                        <span class="checkmark"></span> Destructive
                    </label>
                </div>
                <div class="component-sizes" style="margin-top: var(--space-2);">
                    <span class="label-text">Sizes:</span>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="btn-size" value="sm" checked>
                        <span class="checkmark"></span> SM
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="btn-size" value="md" checked>
                        <span class="checkmark"></span> MD
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="btn-size" value="lg" checked>
                        <span class="checkmark"></span> LG
                    </label>
                </div>
            </div>

            <!-- Inputs Section -->
            <div class="component-group">
                <div class="component-group-header">
                    <label class="checkbox-label">
                        <input type="checkbox" id="gen-inputs" checked>
                        <span class="checkmark"></span>
                        <span class="component-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="5" width="18" height="14" rx="2" />
                                <path d="M7 9h3" />
                                <path d="M7 13h10" />
                            </svg></span>
                        <strong>Form Inputs</strong>
                    </label>
                </div>
                <div class="component-options" id="input-options">
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-variant" value="text" checked>
                        <span class="checkmark"></span> Text Input
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-variant" value="textarea" checked>
                        <span class="checkmark"></span> Textarea
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-variant" value="select" checked>
                        <span class="checkmark"></span> Select
                    </label>
                </div>
                <div class="component-states" style="margin-top: var(--space-2);">
                    <span class="label-text">States:</span>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-state" value="default" checked>
                        <span class="checkmark"></span> Default
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-state" value="focus" checked>
                        <span class="checkmark"></span> Focus
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-state" value="error" checked>
                        <span class="checkmark"></span> Error
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-state" value="success" checked>
                        <span class="checkmark"></span> Success
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="input-state" value="disabled" checked>
                        <span class="checkmark"></span> Disabled
                    </label>
                </div>
            </div>

            <!-- Badges Section -->
            <div class="component-group">
                <div class="component-group-header">
                    <label class="checkbox-label">
                        <input type="checkbox" id="gen-badges" checked>
                        <span class="checkmark"></span>
                        <span class="component-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path
                                    d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z" />
                                <path d="M7 7h.01" />
                            </svg></span>
                        <strong>Badges/Tags</strong>
                    </label>
                </div>
                <div class="component-options" id="badge-options">
                    <label class="checkbox-label small">
                        <input type="checkbox" name="badge-variant" value="neutral" checked>
                        <span class="checkmark"></span> Neutral
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="badge-variant" value="primary" checked>
                        <span class="checkmark"></span> Primary
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="badge-variant" value="success" checked>
                        <span class="checkmark"></span> Success
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="badge-variant" value="warning" checked>
                        <span class="checkmark"></span> Warning
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="badge-variant" value="error" checked>
                        <span class="checkmark"></span> Error
                    </label>
                </div>
                <div class="component-sizes" style="margin-top: var(--space-2);">
                    <span class="label-text">Sizes:</span>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="badge-size" value="sm" checked>
                        <span class="checkmark"></span> SM
                    </label>
                    <label class="checkbox-label small">
                        <input type="checkbox" name="badge-size" value="md" checked>
                        <span class="checkmark"></span> MD
                    </label>
                </div>
            </div>
        </div>
    </div>

    <!-- Component Naming -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">3. Naming & Output</div>

        <div class="flex-row">
            <div class="form-group">
                <label>Component Prefix</label>
                <input type="text" id="atoms-prefix" value="" placeholder="e.g. DS/">
            </div>
            <div class="form-group">
                <label>Output Location</label>
                <select id="atoms-output">
                    <option value="page">New Page</option>
                    <option value="frame">New Frame (Current Page)</option>
                    <option value="selection">Next to Selection</option>
                </select>
            </div>
        </div>

        <div class="form-group" style="margin-top: var(--space-3);">
            <label class="checkbox-label">
                <input type="checkbox" id="atoms-as-components" checked>
                <span class="checkmark"></span>
                Create as Components (not just frames)
            </label>
        </div>
    </div>

    <!-- Preview Section -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">Preview</div>
        <div id="atoms-preview" class="atoms-preview">
            <div class="preview-placeholder">
                <span>Configure options above to see component preview</span>
            </div>
        </div>
    </div>

    <!-- Generate Button -->
    <div class="card">
        <button id="generate-atoms-btn" class="primary" style="width: 100%;">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" />
                </svg></span> Generate Components
        </button>

        <!-- Progress Bar -->
        <div id="atoms-progress" class="progress-container" style="display: none; margin-top: var(--space-3);">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 0%;"></div>
            </div>
            <span class="progress-text">Generating...</span>
        </div>
    </div>
</div>

<style>
    .component-selection {
        display: flex;
        flex-direction: column;
        gap: var(--space-4);
    }

    .component-group {
        background: var(--bg-secondary);
        border-radius: var(--radius-md);
        padding: var(--space-3);
        border: 1px solid var(--border-subtle);
    }

    .component-group-header {
        margin-bottom: var(--space-2);
    }

    .component-group-header .checkbox-label {
        display: flex;
        align-items: center;
        gap: var(--space-2);
    }

    .component-icon {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        background: var(--accent-primary);
        border-radius: var(--radius-sm);
        color: white;
    }

    .component-icon svg {
        width: 14px;
        height: 14px;
    }

    .component-options,
    .component-sizes,
    .component-states {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-2);
        align-items: center;
    }

    .checkbox-label.small {
        font-size: var(--text-xs);
    }

    .label-text {
        font-size: var(--text-xs);
        color: var(--text-secondary);
        margin-right: var(--space-2);
    }

    .atoms-preview {
        min-height: 120px;
        background: var(--bg-secondary);
        border-radius: var(--radius-md);
        padding: var(--space-4);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .preview-placeholder {
        color: var(--text-tertiary);
        font-size: var(--text-sm);
        text-align: center;
    }

    .atoms-preview .preview-components {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-3);
        align-items: center;
        justify-content: center;
    }

    .atoms-preview .preview-btn {
        padding: var(--space-2) var(--space-4);
        border-radius: var(--radius-md);
        font-size: var(--text-sm);
        font-weight: 500;
        cursor: default;
    }

    .atoms-preview .preview-btn.primary {
        background: var(--accent-primary);
        color: white;
    }

    .atoms-preview .preview-btn.secondary {
        background: var(--bg-tertiary);
        color: var(--text-primary);
        border: 1px solid var(--border-default);
    }

    .atoms-preview .preview-btn.ghost {
        background: transparent;
        color: var(--accent-primary);
    }

    .atoms-preview .preview-input {
        padding: var(--space-2) var(--space-3);
        border-radius: var(--radius-md);
        border: 1px solid var(--border-default);
        background: var(--bg-primary);
        font-size: var(--text-sm);
        min-width: 120px;
    }

    .atoms-preview .preview-badge {
        padding: var(--space-1) var(--space-2);
        border-radius: var(--radius-full);
        font-size: var(--text-xs);
        font-weight: 500;
    }

    .atoms-preview .preview-badge.primary {
        background: var(--accent-primary);
        color: white;
    }

    .atoms-preview .preview-badge.success {
        background: #10b981;
        color: white;
    }

    .atoms-preview .preview-badge.warning {
        background: #f59e0b;
        color: white;
    }

    .atoms-preview .preview-badge.error {
        background: #ef4444;
        color: white;
    }
</style>