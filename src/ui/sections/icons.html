<div class="section-content" id="section-icons">
    <!-- Step 1: Icon Set Selection -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">1. Choose Icon Set</div>
        <p class="step-description">Select an icon library and style variant</p>

        <div class="flex-row" style="margin-top: var(--space-3);">
            <div class="form-group" style="flex: 1;">
                <label>Icon Set</label>
                <select id="icon-set-select">
                    <option value="" disabled selected>Select set...</option>
                    <option value="mdi">Material Design Icons</option>
                    <option value="lucide">Lucide</option>
                    <option value="ph">Phosphor</option>
                    <option value="heroicons">Heroicons</option>
                    <option value="tabler">Tabler</option>
                    <option value="carbon">Carbon</option>
                    <option value="ri">Remix Icon</option>
                    <option value="bi">Bootstrap Icons</option>
                    <option value="feather">Feather</option>
                    <option value="ion">Ionicons</option>
                </select>
            </div>
            <div class="form-group" style="flex: 1;">
                <label>Style</label>
                <select id="icon-style-select" disabled>
                    <option value="">Select set first...</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Step 2: Search -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">2. Search Icons</div>
        <div class="flex-row" style="gap: var(--space-2);">
            <div class="form-group" style="flex: 1; margin-bottom: 0;">
                <input type="text" id="icon-search-query" placeholder="Search icons..." disabled />
            </div>
            <button id="search-icons-btn" class="secondary" disabled style="white-space: nowrap;">
                üîç Search
            </button>
        </div>

        <!-- Search Results Grid -->
        <div id="icon-results" class="icon-grid" style="margin-top: var(--space-3);">
            <div class="icon-placeholder">
                <span>Select an icon set to start searching</span>
            </div>
        </div>
    </div>

    <!-- Step 3: Import Queue -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">
            3. Import Queue
            <span id="queue-count-badge" class="count-badge" style="display: none;">0</span>
        </div>

        <div id="import-queue" class="import-queue">
            <div class="queue-placeholder">
                <span>Click icons above to add them here</span>
            </div>
        </div>

        <button id="clear-queue-btn" class="secondary" style="width: 100%; margin-top: var(--space-2);" disabled>
            üóëÔ∏è Clear Queue
        </button>
    </div>

    <!-- Step 4: Import Options -->
    <div class="card" style="margin-bottom: var(--space-4);">
        <div class="section-title">4. Import Settings</div>

        <div class="flex-row">
            <div class="form-group">
                <label>Icon Size</label>
                <select id="icon-size">
                    <option value="16">16px</option>
                    <option value="20">20px</option>
                    <option value="24" selected>24px</option>
                    <option value="32">32px</option>
                    <option value="48">48px</option>
                </select>
            </div>
            <div class="form-group">
                <label>Component Prefix</label>
                <input type="text" id="icon-prefix" value="Icon/" placeholder="e.g. Icons/">
            </div>
        </div>

        <div class="form-group" style="margin-top: var(--space-2);">
            <label class="checkbox-label">
                <input type="checkbox" id="icon-as-components" checked>
                <span class="checkmark"></span>
                Create as Components
            </label>
        </div>
    </div>

    <!-- Import Button -->
    <div class="card">
        <button id="import-icons-btn" class="primary" style="width: 100%;" disabled>
            <span class="icon">üì•</span> Import Icons
        </button>

        <div id="icons-progress" class="progress-container" style="display: none; margin-top: var(--space-3);">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 0%;"></div>
            </div>
            <span class="progress-text">Importing...</span>
        </div>
    </div>
</div>

<style>
    .icon-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(56px, 1fr));
        gap: var(--space-2);
        max-height: 240px;
        overflow-y: auto;
        padding: var(--space-3);
        background: var(--bg-secondary);
        border-radius: var(--radius-md);
        min-height: 100px;
    }

    .icon-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: var(--space-2);
        border-radius: var(--radius-sm);
        cursor: pointer;
        transition: all 0.15s ease;
        border: 2px solid transparent;
        background: var(--bg-primary);
        aspect-ratio: 1;
    }

    .icon-item:hover {
        background: var(--bg-tertiary);
        border-color: var(--border-default);
    }

    .icon-item.in-queue {
        border-color: var(--accent-primary);
        background: rgba(99, 102, 241, 0.15);
    }

    .icon-item svg {
        width: 24px;
        height: 24px;
        color: var(--text-primary);
    }

    .icon-item .icon-name {
        font-size: 8px;
        color: var(--text-secondary);
        margin-top: 2px;
        text-align: center;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        max-width: 100%;
    }

    .icon-placeholder,
    .queue-placeholder {
        grid-column: 1 / -1;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 80px;
        color: var(--text-tertiary);
        font-size: var(--text-sm);
    }

    .import-queue {
        display: flex;
        flex-wrap: wrap;
        gap: var(--space-2);
        padding: var(--space-3);
        background: var(--bg-secondary);
        border-radius: var(--radius-md);
        min-height: 60px;
        max-height: 120px;
        overflow-y: auto;
    }

    .queue-item {
        display: flex;
        align-items: center;
        gap: var(--space-1);
        padding: var(--space-1) var(--space-2);
        background: var(--bg-primary);
        border-radius: var(--radius-sm);
        border: 1px solid var(--border-default);
        font-size: var(--text-xs);
        cursor: pointer;
        transition: all 0.15s ease;
    }

    .queue-item:hover {
        border-color: var(--status-error);
        background: rgba(239, 68, 68, 0.1);
    }

    .queue-item svg {
        width: 16px;
        height: 16px;
    }

    .queue-item .remove-icon {
        color: var(--text-tertiary);
        font-size: 12px;
        margin-left: var(--space-1);
    }

    .queue-item:hover .remove-icon {
        color: var(--status-error);
    }

    .count-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 20px;
        height: 20px;
        padding: 0 6px;
        background: var(--accent-primary);
        color: white;
        border-radius: var(--radius-full);
        font-size: 11px;
        font-weight: 600;
        margin-left: var(--space-2);
    }

    .icon-loading {
        grid-column: 1 / -1;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 80px;
        color: var(--text-secondary);
        gap: var(--space-2);
    }

    .icon-loading::after {
        content: '';
        width: 20px;
        height: 20px;
        border: 2px solid var(--border-default);
        border-top-color: var(--accent-primary);
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    .icon-skeleton {
        width: 24px;
        height: 24px;
        background: linear-gradient(90deg, var(--bg-tertiary) 25%, var(--border-default) 50%, var(--bg-tertiary) 75%);
        background-size: 200% 100%;
        border-radius: var(--radius-sm);
        animation: shimmer 1.2s infinite;
    }

    @keyframes shimmer {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
</style>